@tailwind base;
@tailwind components;
@tailwind utilities;

/* ✅ 최적화된 폰트 로딩 */
@font-face {
    font-family: 'Pretendard Variable';
    src: url('/fonts/PretendardVariable.woff2') format('woff2-variations');
    font-weight: 45 920;
    font-style: normal;
    font-display: swap; /* FOIT 방지 */
    unicode-range: U+AC00-D7AF, U+1100-11FF, U+3130-318F, U+A960-A97F, U+D7B0-D7FF;
}

@font-face {
    font-family: 'Pretendard';
    src: url('/fonts/PretendardVariable.woff2') format('woff2-variations');
    font-weight: 45 920;
    font-style: normal;
    font-display: swap;
}

/* ✅ 기본 성능 최적화 스타일 */
@layer base {
    html {
        scroll-behavior: smooth;
        -webkit-text-size-adjust: 100%;
    }
    
    body {
        font-feature-settings: 'rlig' 1, 'calt' 1;
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
    
    /* 스크롤 성능 최적화 */
    * {
        -webkit-overflow-scrolling: touch;
    }
}

/* ✅ 컴포넌트 레벨 최적화 */
@layer components {
    /* 터치 영역 최적화 (44px 최소 크기) */
    .touch-target {
        @apply min-h-[44px] min-w-[44px];
        touch-action: manipulation;
    }
    
    /* GPU 가속 활용 */
    .gpu-accelerated {
        will-change: transform;
        transform: translateZ(0);
    }
    
    /* 버튼 기본 스타일 */
    .btn-primary {
        @apply bg-brand-primary hover:bg-blue-700 text-white font-medium px-6 py-3 rounded-lg transition-all duration-200 touch-target;
        @apply focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-offset-2;
        @apply disabled:opacity-50 disabled:cursor-not-allowed;
    }
    
    /* 카드 기본 스타일 */
    .card {
        @apply bg-surface-primary rounded-lg shadow-card p-6;
        @apply transition-shadow duration-200 hover:shadow-card-hover;
    }
    
    /* 입력 필드 기본 스타일 */
    .input-base {
        @apply w-full px-4 py-3 border border-gray-300 rounded-lg;
        @apply focus:outline-none focus:ring-2 focus:ring-brand-primary focus:border-transparent;
        @apply transition-all duration-200;
    }
}

/* ✅ 유틸리티 클래스 */
@layer utilities {
    /* Safe Area 대응 */
    .safe-area-pb {
        padding-bottom: max(1rem, env(safe-area-inset-bottom));
    }
    
    .safe-area-pt {
        padding-top: max(1rem, env(safe-area-inset-top));
    }
    
    /* 스크롤 개선 */
    .scroll-smooth {
        scroll-behavior: smooth;
        overscroll-behavior: contain;
    }
    
    /* 접근성 - 스크린 리더 전용 */
    .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
    }
    
    /* 성능 최적화 클래스 */
    .will-change-auto {
        will-change: auto;
    }
    
    .will-change-transform {
        will-change: transform;
    }
}
